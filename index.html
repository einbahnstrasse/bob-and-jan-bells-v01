
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bells for Bob & Jan</title>
  <script src="https://cdn.jsdelivr.net/npm/tone@14.8.49/build/Tone.js"></script>
  <link rel="stylesheet" href="styles.v03.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css" />
  <!-- <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght,wdth@8..144,700,100..125&display=swap" rel="stylesheet"> -->
   <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght,wdth@8..144,400..700,75..125&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
</head>
<body class="dark">
  <div class="main-layout">
    <div class="left-column">
      <div class="hamburger-menu">
        <input type="checkbox" id="menu-toggle">
        <label for="menu-toggle" class="menu-icon">
          <span></span>
          <span></span>
          <span></span>
        </label>

        <div class="menu">
          <div class="menu-close" id="menu-close">&times;</div>
          <ul>
            <li><a href="#" id="info-link"><h2>About</h2></a></li>
            <li><a href="#" id="howto-link"><h2>How to Use</h2></a></li>
            <li><a href="#" id="help-link"><h2>Help</h2></a></li>
            <li><a href="#" id="credits-link"><h2>Credits</h2></a></li>
          </ul>
        </div>
      </div>

      <div class="pitch-slider-wrapper">
        <label for="pitch-slider">Pitch<br>Range</label>
        <div id="pitch-slider"></div>
      </div>
    </div>


    <div class="content-column">
      <h1 class="animated-title">Bells for<br>Bob & Jan</h1>
      <div class="byline"><em>With Love — <a href="https://louisgoldford.com" target="_blank">Louis</a> and Eszter</a></em></div>

      <!-- <div class="gyro-graph-stack">
        <div class="canvas-container">
          <canvas id="alphaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="alphaLabel">Pitch (left &#x2194; right): 0.00</div>
        </div>
        <div class="canvas-container">
          <canvas id="betaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="betaLabel">Trigger (front &#x2194; back): 0.00</div>
        </div>
        <div class="canvas-container">
          <canvas id="gammaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="gammaLabel">Volume (side &#x2194; side): 0.00</div>
        </div>
      </div> -->
      <!-- <button id="enable-button">START</button> -->
      <!-- <label for="bell-select">Choose a bell:</label>
      <select id="bell-select">
        <option value="archeos-bell.wav" selected>Archeos Bell</option>
        <option value="BigBend.wav">Big Ben (London)</option>
        <option value="WinchesterBell.wav">Winchester Bell</option>
        <option value="NotreDameParis.wav">Notre Dame (Paris)</option>
      </select> -->

      <div class="controls-row">
      <div class="bell-select-group">
        <label for="bell-select">Choose a bell:</label>
        <select id="bell-select">
          <option value="archeos-bell.wav" selected>Archeos Bell (synth)</option>
          <option value="BigBend.wav">Big Ben (UK)</option>
          <option value="WinchesterBell.wav">Winchester (UK)</option>
          <option value="NotreDameParis.wav">Notre Dame (Paris)</option>
        </select>
      </div>
      <button id="enable-button">START</button>
    </div>

      <div class="toggle-row">
        <label class="toggle-label">Dark<br>Mode
          <div class="switch">
            <input type="checkbox" id="theme-toggle" checked />
            <span class="slider"></span>
          </div>
        </label>
        <label class="toggle-label">Mute
          <div class="switch">
            <input type="checkbox" id="mute-toggle" />
            <span class="slider"></span>
          </div>
        </label>
      </div>

      <div class="gyro-graph-stack">
        <div class="canvas-container">
          <canvas id="alphaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="alphaLabel">PITCH (rotate left to right): 0.00</div>
        </div>
        <div class="canvas-container">
          <canvas id="betaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="betaLabel">TRIGGER (tilt front to back): 0.00</div>
        </div>
        <div class="canvas-container">
          <canvas id="gammaChart" width="300" height="100"></canvas>
          <div class="gyro-label" id="gammaLabel">VOLUME (lean side to side): 0.00</div>
        </div>
      </div>

    </div>
  </div>
  <div id="overlay"><div id="overlay-content"><button id="overlay-close">&times;</button><p>Placeholder text.</p></div></div>
<div id="overlay-howto">
  <div id="overlay-content-howto">
    <button id="overlay-close-howto">&times;</button>
      <h2>How to Use</h2>

      <h4>Start the Experience</h4>
      To begin, press the <em>START</em> button. Some devices may require you to press it more than once in order to bring up the permissions dialog. Be sure to allow access to your phone’s motion sensors and audio playback when prompted. To hear sound, be sure to take your phone <em>out of silent mode</em>.</p>

      <h4>Position Your Phone</h4>
      Hold your phone in your hand as if on a flat surface with its screen facing up, like holding a tray or carrying a plate or using a trackpad.</p>

      <p>Move your phone in any direction to generate bell sounds. How you move the phone determines what the synthesizer does, as explained below in the section <em>Gyroscope Controls</em>.</p>

      <h3>Mute Toggle</h3>
      At any time, toggle MUTE to start and stop sound. 

      <h3>Pitch Range</h3>
      Move the 2 blue handles along the vertical lefthand slider to adjust the range of pitches in which your phone generates bell sounds. You have 7 octaves available to you. Go nuts.

      <h3>Choice of Bell Sounds</h3>
      At any point, you can change the sound by choosing a different bell from the dropdown menu labeled "Choose a bell." Below is a list of each bell sound.

        <h4>— Archeos Bell</h4>
        A synthetic bell made by combing 11 oscillators, made with pure additive-synthesis and tuned roughly to a B1. 
      
        <h4>— Big Ben</h4>
        The Largest of 5 Westminster clock bells with an exemplary harmonic spectrum (i.e., its partials are close to integer multiples of a single ƒ0 fundamental).

        <h4>— Winchester</h4>
        Winchester Cathedral's tenor bell weighs ca. 1.5-ton and is more than 1m in diameter. Its strike note is roughly C₂, but the hum tone lies an octave lower. Famously, FFT analysis at IRCAM revealed 33 partials whose frequencies are <em>not</em> integer multiples of a single fundamental. 8 of the lowest partials (C-related) were singled out by composer Jonathan Harvey, and each became the “tonic” of its own section of his 1980 piece <em>Mortuos Plango, Vivos Voco</em> for 8-track tape. 

        <h4>— Notre Dame</h4>
        Sunday pealing of, among others, a 13-ton bourdon cast in 1680, tolled for major French national events and located at the site of the emergence of polyphony itself.   

      <h3>Gyroscope Controls</h3>

      <p><em>Play your phone as an instrument — like a bell —</em> by moving it freely in space. Unlike an acoustic bell, however, you don't have to move it rapidly to ring it. By reading your phone's internal gyroscope, the system responds to your phone's orientation across 3 axes. Each axis, or direction you may move your phone in, is linked to a separate musical parameter. Think of the motion of your phone like the movements of your head:</p>

      <ul>
        <li><strong>PITCH – Rotate Left to Right</strong><br>
        Turn the phone like you're turning your head to the left or right. This controls PITCH (perceivable highness or lowness of the sound).</li>

        <li><strong>TRIGGER – Tilt Forward to Back</strong><br>
        Tip the phone forward and backward. This changes how often bell sounds are TRIGGERED. Like nodding your head up and down, or like a plane pitching its nose up or down.</li>

        <li><strong>VOLUME – Tilt Side to Side</strong><br>
        Roll the phone by lifting its left or right edge while keeping the rest of the phone flat. This controls VOLUME. Imagine tilting your head sideways toward your shoulder—same motion.</li>
      </ul>

      <h3>Adjusting Overall Volume</h3>
      Change the master volume however you normally change the volume of your phone. When you're finished, toggle the switch labeled MUTE, or reload the webpage, or delete your browser tab.


      <p>Explore these movements gently and gradually. Subtle motions often produce the most nuanced musical responses!</p>
  </div>
</div>
  <div id="overlay-help"><div id="overlay-content-help">
    <button id="overlay-close-help">&times;</button>
    <h2>Help</h2>
     <h3>START Button</h3>
      <p>
        When you initially load this page for the first time, you may need to click the START button (in blue) <em>more than once</em> in order to bring up a contextual menu. This menu grants the page permission to use your mobile device’s gyroscope and to initiate the audio context. 
      </p>
      <p>
        You may need to refresh the page or press the START button several times before the contextual permission prompt appears. Once it does, be sure to press <strong>OK</strong> or grant permission in whatever way your device asks. This step is required in order to hear sound and to begin the flow of gyroscope data across the screen. 
      </p>
      <p>Don't worry — there is no security risk here. I'm just a guy trying to make sound for his friends. I'm not recording your phone or doing anything weird, and your data is safe with you, and only you.</p>

      <h3>Not Hearing Sound?</h3>
        <p>
          Once you’ve granted permission, you should see blue curves flowing across the screen — indicating that your device’s gyroscope is working — and you should begin to hear sound right away.
        </p>
        <p>
          If you do not hear sound at this point, make sure your phone is <em>not in silent mode</em> and that your phone's volume is turned up. If you still don’t hear anything, try refreshing the page. If the issue persists, you may need to clear your mobile browser’s cache or delete your browsing history, especially if you’ve attempted this process multiple times.
        </p>

        <h3>Freezing</h3>
      <p>
        If your web browser or device suddenly freezes, or if your device falls asleep or enters a screensaver mode, you’ll simply need to unlock it, refresh the page, and start over. This will reinitialize the audio and gyroscope systems. Pretty simple.  
      </p>

      <h3>Disclaimer</h3>
        <p>
          This web app has been designed with platform-agnostic accessibility in mind, functioning as a lightweight, browser-based interface intended to run on any modern mobile device — whether iOS or Android — equipped with gyroscope support and a web browser. 
        </p>
        <p>
          It has been tested exclusively on iOS — on an Apple iPhone 13 Pro. I built this quickly over a couple of days and didn’t test it on other devices. Android users: proceed with caution and operate at your own risk. 🤷  
        </p>
        <p>          
          Your experience may vary depending on your hardware and web browser.
        </p>
  </div>
</div>
  <div id="overlay-credits">
    <div id="overlay-content-credits">
      <button id="overlay-close-credits">&times;</button>
     <h2>Credits</h2>
      <p>&copy; 2025 Louis Goldford. All rights reserved.</p>
      <p>This work is licensed under a 
        <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">
        Creative Commons Attribution-NonCommercial 4.0 International License</a>.
    </p>
    <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">
      <img alt="Creative Commons License" style="border-width:0"
           src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" />
    </a>

    <h3>Software Libraries</h3>
      <p>
        This web app was built using <a href="https://tonejs.github.io/" target="_blank" rel="noopener noreferrer">Tone.js</a>, a powerful framework for creating interactive music in the browser.
      </p>
      <p>
        It also uses a lightweight JavaScript slider interface inspired by <a href="https://refreshless.com/nouislider/" target="_blank" rel="noopener noreferrer">noUiSlider</a>, as well as native browser features like the Web Audio API and DeviceOrientation events.
      </p>
      <p>
        Special thanks to the open-source contributors who make these libraries available for creative experimentation across platforms. 🙌
      </p>

      <h3>Audio Samples + Field Recordings</h3>
        <p>
          <a href="https://freesound.org/people/hyderpotter/sounds/80290/" target="_blank" rel="noopener noreferrer">BigBenstrikes.mp3</a> by <a href="https://freesound.org/people/hyderpotter/" target="_blank" rel="noopener noreferrer">hyderpotter</a>, 
          '<a href="https://freesound.org/people/felix.blume/sounds/501115/" target="_blank" rel="noopener noreferrer">Peal of church bells on Sunday in Paris</a>' by 
          <a href="https://freesound.org/people/felix.blume/" target="_blank" rel="noopener noreferrer">felix.blume</a>, and 
          <a href="https://freesound.org/people/Archeos/sounds/174725/" target="_blank" rel="noopener noreferrer">bell_sound_B.wav</a> by 
          <a href="https://freesound.org/people/Archeos/" target="_blank" rel="noopener noreferrer">Archeos</a> are used under the Creative Commons 0 licence at <a href="https://freesound.org/" target="_blank" rel="noopener noreferrer">Freesound.org</a>.
        </p>

        <p>
          <code>winchester-bell.wav</code> is the tenor bell of Winchester Cathedral, recorded by John Whiting for Jonathan Harvey’s <a href="https://en.wikipedia.org/wiki/Mortuos_Plango,_Vivos_Voco" target="_blank" rel="noopener noreferrer"><em>Mortuos Plango, Vivos Voco</em> (1980)</a> and is included in the 
          <a href="https://forum.ircam.fr/projects/detail/orchidea/" target="_blank" rel="noopener noreferrer">Orchidea examples</a> courtesy of IRCAM/CNMAT (Ircam Forum licence).
        </p>
    </div>
  </div>
  <script src="script.v01.js"></script>
</body>
</html>
